<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    1 Left Click<br>
    2 Click Inspect<br>
    3 Click Console<br>
    <button onclick="RunGame()">Play</button>
    <script>
        function RunGame() {
            // variables
            let userName = prompt("Enter Username:");
            console.log("Hi " + userName);
            let character = prompt('Choose (1 or less) Attacker or (2 or more) Defender:');
            let hpA = 0, hpB = 0;
            const kick = 4, punch = 3, heal_a = 3, heal_d = 5, evade = 3, block = 0;
            let evading = false;
            let blocking = false;
            var placeholder = ""
            const attackerChoices_b = [kick, punch,heal_a];
            const defenderChoices_b = [heal_d, evade,placeholder];
            const defenderChoices = [block, heal_d, evade];


            // if statements character choosing
            if (character > 1) {
                console.log("You chose Defender");
                hpA = 20;
                hpB = 15;
                console.log("Your HP is " + hpA);

                while (hpA > 0) {
                    // Ensure the random index is within bounds
                    var randomIndex_A = Math.floor(Math.random() * 3);
                    var attackerChoice = attackerChoices_b[randomIndex_A];
                    // console.log("Attacker's choice is " + attackerChoice); //for administrating purposes only

                    if (attackerChoice == punch) {
                        if (evading) {
                            console.log("The Attacker tried to punched you but you evaded, he took " + evade + " damage");
                            hpB -= evade;
                            evading = false;
                        } else {
                            hpA -= punch;
                            console.log("The Attacker punched you! You took " + punch + " damage");
                        }
                    }else if (attackerChoice == kick) {
                        if (blocking == true){
                            hpA = hpA
                            console.log("You Blocked the Attackers kick.")
                        }else{
                            hpA -= kick;
                            console.log("The Attacker kicked you! You took " + kick + " damage");
                        }
                    } else if (attackerChoice == heal_a) {
                        if ((hpB + heal_a) > 15) {
                            hpB = 15;
                        } else {
                            hpB += heal_a;
                        }
                        console.log("The Attacker healed himself! His HP is " + hpB);
                    }

                    console.log("Your HP is " + hpA);

                    if (hpA <= 0) {
                        console.log("You have been defeated!");
                        break;
                    }

                    let user_choice = prompt("Choose: \n1 Block\n2 Heal\n3 Evade");
                    if (user_choice == 1) {
                        blocking = true
                    } else if (user_choice == 2) {
                        if ((hpA + heal_d) > 20) {
                            hpA = 20;
                            console.log("You healed yourself fully!")
                        } else {
                            hpA += heal_d;
                        }
                        console.log("You healed yourself. Your HP is now " + hpA);
                    } else if (user_choice == 3) {
                        evading = true;
                    }
                }
            } else {
                console.log("You chose Attacker");
                hpA = 15;
                console.log("Your HP is " + hpA);
                // Add logic for the attacker role if needed
            }
        }
    </script>
</body>
</html>
